<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TechMind Pro - Asistente IA Experto en Redes Cisco</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; line-height: 1.6; color: #333; }
        header { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 1rem 0; position: sticky; top: 0; z-index: 100; }
        nav { max-width: 1200px; margin: 0 auto; padding: 0 2rem; display: flex; justify-content: space-between; align-items: center; }
        .logo { font-size: 1.8rem; font-weight: bold; }
        .nav-links { display: flex; gap: 2rem; }
        .nav-links a { color: white; text-decoration: none; }
        .hero { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 6rem 2rem; text-align: center; }
        .hero h1 { font-size: 3rem; margin-bottom: 1rem; }
        .demo-box { max-width: 700px; margin: 2rem auto; background: white; color: #333; padding: 2rem; border-radius: 15px; box-shadow: 0 10px 40px rgba(0,0,0,0.2); }
        .example-buttons { display: flex; flex-wrap: wrap; gap: 10px; margin-bottom: 1.5rem; }
        .example-btn { padding: 8px 16px; background: #f0f0f0; border: 1px solid #ddd; border-radius: 20px; cursor: pointer; font-size: 0.9em; transition: all 0.2s; }
        .example-btn:hover { background: #667eea; color: white; }
        .demo-input { width: 100%; padding: 1rem; border: 2px solid #e0e0e0; border-radius: 10px; font-size: 1rem; margin-bottom: 1rem; min-height: 100px; resize: vertical; }
        .demo-input:focus { outline: none; border-color: #667eea; box-shadow: 0 0 0 3px rgba(102,126,234,0.1); }
        .demo-button { width: 100%; padding: 1rem; background: #667eea; color: white; border: none; border-radius: 10px; font-size: 1.1rem; font-weight: bold; cursor: pointer; }
        .demo-button:disabled { opacity: 0.6; cursor: not-allowed; }
        .loading-spinner { display: inline-block; width: 50px; height: 50px; border: 5px solid #f3f3f3; border-top: 5px solid #667eea; border-radius: 50%; animation: spin 1s linear infinite; }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
        .features { max-width: 1200px; margin: 4rem auto; padding: 0 2rem; display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 2rem; }
        .feature { text-align: center; padding: 2rem; }
        .feature-icon { font-size: 3rem; margin-bottom: 1rem; }
        footer { background: #2c3e50; color: white; text-align: center; padding: 2rem; }
    </style>
</head>
<body>
    <header><nav><div class="logo">üöÄ TechMind Pro</div><div class="nav-links"><a href="#features">Caracter√≠sticas</a><a href="#pricing">Precios</a><a href="#demo">Demo</a></div></nav></header>
    
    <section class="hero" id="demo">
        <h1>Asistente IA Experto en Redes Cisco</h1>
        <p>93% de precisi√≥n | 1,191 casos entrenados | Packet Tracer incluido</p>
        <div class="demo-box">
            <h3 style="margin-bottom: 1rem; color: #667eea;">üß™ Prueba TechMind Ahora</h3>
            <div id="limitWarning" style="display:none; background:#fff3cd; padding:15px; border-radius:10px; margin-bottom:15px; border-left:5px solid #ffc107;">
                <p style="color:#856404; font-weight:600;">‚ö†Ô∏è <span id="remainingDemos">5</span> demos gratis restantes</p>
            </div>
            <div class="example-buttons">
                <button class="example-btn" onclick="setExample(0)">IP en interfaz</button>
                <button class="example-btn" onclick="setExample(1)">VLAN en PT</button>
                <button class="example-btn" onclick="setExample(2)">OSPF √°rea 0</button>
                <button class="example-btn" onclick="setExample(3)">ACL HTTP/HTTPS</button>
            </div>
            <textarea id="demoInput" class="demo-input" placeholder="Escribe tu pregunta..."></textarea>
            <button id="demoButton" class="demo-button" onclick="askTechMind()">üöÄ Preguntar a TechMind Pro</button>
            <div id="demoResult" style="display:none; margin-top:1.5rem;"></div>
        </div>
        <p style="margin-top:1rem; opacity:0.9;">üìä <span id="demo-count">0</span> demos realizados</p>
    </section>
    
    <section class="features" id="features">
        <div class="feature"><div class="feature-icon">‚öôÔ∏è</div><h3>Configuraciones Cisco</h3><p>Genera configuraciones completas paso a paso</p></div>
        <div class="feature"><div class="feature-icon">üîß</div><h3>Troubleshooting</h3><p>Diagnostica problemas con gu√≠as detalladas</p></div>
        <div class="feature"><div class="feature-icon">üìö</div><h3>Packet Tracer</h3><p>Instrucciones espec√≠ficas para simulaciones</p></div>
        <div class="feature"><div class="feature-icon">‚ö°</div><h3>Respuestas Instant√°neas</h3><p>Respuestas en segundos, no horas</p></div>
    </section>
    
    <!-- SECCI√ìN PRICING CON PAYPAL -->
    <section id="pricing" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); padding: 4rem 2rem; margin-top: 4rem;">
        <div style="max-width: 1000px; margin: 0 auto; text-align: center;">
            <h2 style="color: white; font-size: 2.5rem; margin-bottom: 1rem;">üíé TechMind Pro</h2>
            <p style="color: white; font-size: 1.2rem; margin-bottom: 3rem;">Elige el plan perfecto para ti</p>
            
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(320px, 1fr)); gap: 2rem; max-width: 800px; margin: 0 auto;">
                <!-- GRATIS -->
                <div style="background: white; padding: 2.5rem; border-radius: 20px; box-shadow: 0 10px 30px rgba(0,0,0,0.2);">
                    <h3 style="font-size: 2rem; color: #666; margin-bottom: 1rem;">Gratis</h3>
                    <p style="font-size: 3.5rem; font-weight: bold; color: #333; margin: 1.5rem 0;">‚Ç¨0</p>
                    <ul style="list-style: none; padding: 0; text-align: left; margin: 2rem 0;">
                        <li style="padding: 0.7rem 0; font-size: 1.1rem;">‚úÖ 5 consultas de prueba</li>
                        <li style="padding: 0.7rem 0; font-size: 1.1rem;">‚úÖ Acceso al demo p√∫blico</li>
                        <li style="padding: 0.7rem 0; font-size: 1.1rem; color: #999;">‚ùå Respuestas ilimitadas</li>
                        <li style="padding: 0.7rem 0; font-size: 1.1rem; color: #999;">‚ùå Soporte prioritario</li>
                        <li style="padding: 0.7rem 0; font-size: 1.1rem; color: #999;">‚ùå Sin publicidad</li>
                    </ul>
                    <button style="width: 100%; padding: 1rem; background: #e0e0e0; color: #666; border: none; border-radius: 10px; font-size: 1.1rem; font-weight: bold; cursor: pointer;" disabled>
                        Plan Actual
                    </button>
                </div>
                
                <!-- PREMIUM CON PAYPAL -->
                <div style="background: linear-gradient(135deg, #4caf50 0%, #45a049 100%); padding: 2.5rem; border-radius: 20px; box-shadow: 0 15px 40px rgba(76,175,80,0.4); transform: scale(1.05); position: relative;">
                    <div style="position: absolute; top: -15px; left: 50%; transform: translateX(-50%); background: #ffd700; color: #333; padding: 0.5rem 1.5rem; border-radius: 20px; font-weight: bold; font-size: 0.9rem;">‚≠ê RECOMENDADO</div>
                    <h3 style="font-size: 2rem; color: white; margin-bottom: 1rem; margin-top: 1rem;">Premium</h3>
                    <p style="font-size: 3.5rem; font-weight: bold; color: white; margin: 1.5rem 0;">‚Ç¨9.99<span style="font-size: 1.3rem; font-weight: normal;">/mes</span></p>
                    <ul style="list-style: none; padding: 0; text-align: left; margin: 2rem 0; color: white;">
                        <li style="padding: 0.7rem 0; font-size: 1.1rem;">‚úÖ Consultas ilimitadas</li>
                        <li style="padding: 0.7rem 0; font-size: 1.1rem;">‚úÖ Respuestas m√°s r√°pidas</li>
                        <li style="padding: 0.7rem 0; font-size: 1.1rem;">‚úÖ Soporte t√©cnico directo</li>
                        <li style="padding: 0.7rem 0; font-size: 1.1rem;">‚úÖ Acceso anticipado a features</li>
                        <li style="padding: 0.7rem 0; font-size: 1.1rem;">‚úÖ Sin anuncios</li>
                    </ul>
                    
                    <!-- BOT√ìN PAYPAL.ME -->
                    <button onclick="window.open('https://paypal.me/TechMindAi/9.99EUR', '_blank')" style="width: 100%; padding: 1.2rem; background: white; color: #4caf50; border: none; border-radius: 10px; font-size: 1.2rem; font-weight: bold; cursor: pointer; transition: transform 0.2s;" onmouseover="this.style.transform='scale(1.05)'" onmouseout="this.style.transform='scale(1)'">
                        üí≥ Pagar con PayPal
                    </button>
                    
                    <p style="color: rgba(255,255,255,0.9); font-size: 0.85rem; margin-top: 1rem; text-align: center;">
                        Pago seguro con PayPal<br>
                        Despu√©s del pago, env√≠a captura a:<br>
                        <strong>hola.angelmoreno@gmail.com</strong><br>
                        <small>Activo tu cuenta en 24h</small>
                    </p>
                </div>
            </div>
            
            <p style="color: white; margin-top: 3rem; font-size: 1.1rem; opacity: 0.95;">
                üí≥ Pago seguro | üîÑ Cancela cuando quieras | ‚úâÔ∏è Soporte 24/7
            </p>
        </div>
    </section>
    
    <footer><p>¬© 2025 TechMind Pro | 93% accuracy verificada</p><p style="margin-top:1rem; opacity:0.8;"><a href="https://huggingface.co/Delta0723/techmind-pro-v9-merged" target="_blank" style="color:white;">Ver modelo en HuggingFace ‚Üí</a></p></footer>
    
    <script>
        const EXAMPLES = [
            "¬øC√≥mo configuro IP 192.168.1.1 en GigabitEthernet0/0?",
            "En Packet Tracer, configura VLAN 10",
            "Configura OSPF √°rea 0 con red 10.0.0.0/8",
            "Crea ACL que permita HTTP/HTTPS"
        ];
        
        const MAX_FREE_DEMOS = 5;

        function updateDemoLimit() {
            const used = parseInt(localStorage.getItem('techmind_demos_used') || '0');
            const remaining = Math.max(0, MAX_FREE_DEMOS - used);
            const warningEl = document.getElementById('limitWarning');
            const remainingEl = document.getElementById('remainingDemos');
            
            if (remaining <= MAX_FREE_DEMOS && remaining > 0) {
                warningEl.style.display = 'block';
                remainingEl.textContent = remaining;
            } else if (remaining === 0) {
                warningEl.style.display = 'none';
            }
        }

        async function askTechMind() {
            const used = parseInt(localStorage.getItem('techmind_demos_used') || '0');
            
            if (used >= MAX_FREE_DEMOS) {
                const result = document.getElementById('demoResult');
                result.style.display = 'block';
                result.innerHTML = `
                    <div style="background: linear-gradient(135deg, #ffd700 0%, #ffed4e 100%); padding: 2.5rem; border-radius: 15px; text-align: center; box-shadow: 0 10px 30px rgba(0,0,0,0.2);">
                        <h3 style="font-size: 2rem; margin-bottom: 1rem;">üéØ ¬°Has usado tus 5 demos gratis!</h3>
                        <p style="font-size: 1.2rem; margin-bottom: 2rem;">
                            Suscr√≠bete a <strong>TechMind Pro Premium</strong> por solo <strong>‚Ç¨9.99/mes</strong>
                        </p>
                        <div style="background: white; padding: 1.5rem; border-radius: 10px; margin: 1.5rem 0;">
                            <p style="font-size: 1.1rem; margin: 0.5rem 0;">‚úÖ Consultas ilimitadas</p>
                            <p style="font-size: 1.1rem; margin: 0.5rem 0;">‚úÖ Respuestas m√°s r√°pidas</p>
                            <p style="font-size: 1.1rem; margin: 0.5rem 0;">‚úÖ Soporte t√©cnico directo</p>
                        </div>
                        <button onclick="window.location.href='#pricing'" style="padding: 1.2rem 3rem; background: #4caf50; color: white; border: none; border-radius: 10px; font-size: 1.3rem; font-weight: bold; cursor: pointer; box-shadow: 0 5px 15px rgba(0,0,0,0.2);">
                            üíé Ver Planes Premium
                        </button>
                        <p style="margin-top: 1rem; font-size: 0.9rem; color: #666;">
                            üìß Contacto: hola.angelmoreno@gmail.com
                        </p>
                    </div>
                `;
                return;
            }
            
            const input = document.getElementById('demoInput');
            const button = document.getElementById('demoButton');
            const result = document.getElementById('demoResult');
            const question = input.value.trim();
            
            if (!question) { 
                alert('Por favor escribe una pregunta'); 
                return; 
            }
            
            button.disabled = true; 
            button.innerHTML = '‚è≥ Pensando...'; 
            input.disabled = true;
            result.style.display = 'block';
            result.innerHTML = '<div style="text-align:center; padding:40px; background:#f0f7ff; border-radius:15px;"><div class="loading-spinner"></div><p style="margin-top:20px; color:#667eea; font-weight:600;">ü§î TechMind est√° pensando...</p><p style="color:#666; font-size:0.9em;"><small>Primera vez 30-60 seg</small></p></div>';
            
            try {
                const response = await fetch('/api/techmind', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ prompt: question })
                });
                
                if (!response.ok) {
                    const errorData = await response.json();
                    throw new Error(errorData.error || `Error ${response.status}`);
                }
                
                const data = await response.json();
                let answer = data.generated_text || 'Sin respuesta';
                
                if (answer.includes('[/INST]')) {
                    answer = answer.split('[/INST]')[1].trim();
                }
                
                result.innerHTML = `
                    <div style="background:linear-gradient(135deg,#e8f5e9,#c8e6c9); padding:30px; border-radius:15px; border-left:5px solid #4caf50;">
                        <h4 style="color:#2e7d32;">‚úÖ Respuesta de TechMind Pro:</h4>
                        <div style="background:white; padding:20px; border-radius:10px; margin:15px 0;">
                            <pre style="white-space:pre-wrap; font-family:Consolas,monospace; line-height:1.8; margin:0;">${answer}</pre>
                        </div>
                        <button onclick="askAnother()" style="padding:10px 20px; background:white; border:2px solid #4caf50; border-radius:8px; cursor:pointer; color:#4caf50; font-weight:600;">
                            üîÑ Otra pregunta
                        </button>
                    </div>
                `;
                
                localStorage.setItem('techmind_demos_used', (used + 1).toString());
                trackDemo(true);
                updateDemoLimit();
                
            } catch (error) {
                console.error('Error:', error);
                
                result.innerHTML = `
                    <div style="background:#fff3cd; padding:30px; border-radius:15px;">
                        <h4 style="color:#856404;">‚è≥ ${error.message}</h4>
                        <p style="color:#856404;">
                            ${error.message.includes('loading') 
                                ? 'El modelo est√° iniciando. Espera 60 segundos e intenta de nuevo.' 
                                : 'Hubo un error. Intenta de nuevo.'}
                        </p>
                        <button onclick="askTechMind()" style="margin-top:20px; padding:12px 24px; background:#ffc107; border:none; border-radius:8px; cursor:pointer;">
                            üîÑ Reintentar
                        </button>
                    </div>
                `;
                
                trackDemo(false);
            } finally { 
                button.disabled = false; 
                button.innerHTML = 'üöÄ Preguntar a TechMind Pro'; 
                input.disabled = false; 
            }
        }

        function askAnother() { 
            document.getElementById('demoInput').value = ''; 
            document.getElementById('demoResult').style.display = 'none'; 
        }

        function setExample(i) { 
            document.getElementById('demoInput').value = EXAMPLES[i]; 
        }

        function trackDemo(success) { 
            const stats = JSON.parse(localStorage.getItem('techmind_stats') || '{"total":0,"success":0}'); 
            stats.total++; 
            if(success) stats.success++; 
            localStorage.setItem('techmind_stats', JSON.stringify(stats)); 
            document.getElementById('demo-count').textContent = stats.total; 
        }

        document.addEventListener('DOMContentLoaded', () => { 
            updateDemoLimit();
            const stats = JSON.parse(localStorage.getItem('techmind_stats') || '{"total":0}');
            document.getElementById('demo-count').textContent = stats.total;
            
            document.getElementById('demoInput').addEventListener('keydown', e => { 
                if (e.key === 'Enter' && !e.shiftKey) { 
                    e.preventDefault(); 
                    askTechMind(); 
                }
            }); 
        });

        console.log('‚úÖ TechMind Pro Ready - Production with PayPal');
    </script>
</body>
</html>
